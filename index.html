 <!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8" />
   <title>Monthly Expense Tracker</title>
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 
   <!-- Google OAuth & API scripts -->
   <script src="https://accounts.google.com/gsi/client" async defer></script>
   <script src="https://apis.google.com/js/api.js" async defer></script>
 
   <style>
     :root {
       --bg: #020617;
-      --bg-elevated: #020617;
-      --card: #0f172a;
-      --card-soft: #020617;
+      --bg-elevated: rgba(2, 6, 23, 0.92);
+      --card: rgba(15, 23, 42, 0.9);
+      --card-soft: rgba(2, 6, 23, 0.7);
       --accent: #6366f1;
       --accent-soft: rgba(99, 102, 241, 0.25);
       --accent-strong: rgba(99, 102, 241, 0.35);
       --text: #e5e7eb;
-      --muted: #9ca3af;
+      --muted: #94a3b8;
       --danger: #f97373;
       --success: #22c55e;
-      --border-subtle: rgba(148, 163, 184, 0.25);
-      --shadow-soft: 0 30px 80px rgba(15, 23, 42, 0.85);
+      --border-subtle: rgba(148, 163, 184, 0.22);
+      --shadow-soft: 0 35px 90px rgba(2, 6, 23, 0.9);
       --radius-lg: 18px;
       --radius-xl: 22px;
       --radius-pill: 999px;
     }
 
     * {
       box-sizing: border-box;
       font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
         "Segoe UI", sans-serif;
     }
 
+    html {
+      font-size: 16px;
+    }
+
     body {
       margin: 0;
       min-height: 100vh;
-      background: radial-gradient(circle at top, #0b1120, #020617 55%);
+      background:
+        radial-gradient(circle at 8% 15%, rgba(99, 102, 241, 0.2), transparent 45%),
+        radial-gradient(circle at 85% 0%, rgba(14, 165, 233, 0.12), transparent 40%),
+        radial-gradient(circle at 40% 90%, rgba(34, 197, 94, 0.12), transparent 45%),
+        #020617;
       color: var(--text);
-      display: flex;
-      justify-content: center;
       padding: 32px 16px 40px;
     }
 
     .app-shell {
-      width: 100%;
-      max-width: 1040px;
-      background: radial-gradient(circle at top left, #020617, #020617 45%, #020617);
+      width: min(100%, 1200px);
+      margin: 0 auto;
+      background: linear-gradient(160deg, rgba(15, 23, 42, 0.95), rgba(2, 6, 23, 0.95));
       border-radius: 30px;
-      border: 1px solid rgba(148, 163, 184, 0.1);
+      border: 1px solid rgba(148, 163, 184, 0.12);
       box-shadow: var(--shadow-soft);
-      padding: 26px 26px 28px;
+      padding: 30px 30px 32px;
       position: relative;
       overflow: hidden;
     }
 
     .app-shell::before {
       content: "";
       position: absolute;
       inset: -120px;
       background:
         radial-gradient(circle at 10% 0, rgba(56, 189, 248, 0.06), transparent 55%),
         radial-gradient(circle at 90% 10%, rgba(99, 102, 241, 0.16), transparent 52%),
         radial-gradient(circle at -5% 80%, rgba(34, 197, 94, 0.06), transparent 55%);
       opacity: 0.9;
       z-index: -1;
     }
 
     header {
       display: flex;
       justify-content: space-between;
       align-items: flex-start;
-      margin-bottom: 18px;
-      gap: 16px;
+      margin-bottom: 20px;
+      gap: 18px;
+      padding: 18px 18px 16px;
+      border-radius: 24px;
+      background: rgba(15, 23, 42, 0.72);
+      border: 1px solid rgba(148, 163, 184, 0.18);
+      box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.45);
+      backdrop-filter: blur(6px);
     }
 
     .title-block h1 {
       margin: 0;
-      font-size: 1.65rem;
+      font-size: 1.75rem;
       letter-spacing: 0.03em;
     }
 
     .title-block p {
       margin: 6px 0 0;
-      font-size: 0.83rem;
+      font-size: 0.85rem;
       color: var(--muted);
+      max-width: 420px;
     }
 
     .pill {
       display: inline-flex;
       align-items: center;
       gap: 6px;
       padding: 3px 10px;
       border-radius: 999px;
       background: rgba(15, 23, 42, 0.8);
       border: 1px solid rgba(148, 163, 184, 0.45);
       font-size: 0.7rem;
       color: var(--muted);
     }
 
+    .sync-panel {
+      border-radius: 18px;
+      padding: 12px;
+      background: rgba(2, 6, 23, 0.7);
+      border: 1px solid rgba(148, 163, 184, 0.2);
+      display: flex;
+      flex-direction: column;
+      gap: 10px;
+    }
+
+    .sync-panel-top {
+      display: flex;
+      justify-content: space-between;
+      align-items: center;
+      gap: 10px;
+    }
+
+    .sync-actions {
+      display: flex;
+      gap: 8px;
+      flex-wrap: wrap;
+    }
+
+    .sync-meta-row {
+      display: flex;
+      justify-content: space-between;
+      gap: 10px;
+      flex-wrap: wrap;
+    }
+
+    .autosync-toggle {
+      display: inline-flex;
+      align-items: center;
+      gap: 8px;
+      font-size: 0.72rem;
+      color: var(--muted);
+      background: rgba(15, 23, 42, 0.85);
+      border: 1px solid rgba(148, 163, 184, 0.4);
+      border-radius: 999px;
+      padding: 3px 8px 3px 5px;
+    }
+
+    .toggle {
+      position: relative;
+      width: 32px;
+      height: 18px;
+      display: inline-flex;
+      align-items: center;
+    }
+
+    .toggle input {
+      opacity: 0;
+      width: 0;
+      height: 0;
+    }
+
+    .toggle-track {
+      position: absolute;
+      inset: 0;
+      border-radius: 999px;
+      background: rgba(148, 163, 184, 0.35);
+      transition: background 0.2s ease;
+    }
+
+    .toggle-track::after {
+      content: "";
+      position: absolute;
+      top: 2px;
+      left: 2px;
+      width: 14px;
+      height: 14px;
+      border-radius: 50%;
+      background: #ffffff;
+      transition: transform 0.2s ease;
+    }
+
+    .toggle input:checked + .toggle-track {
+      background: linear-gradient(135deg, #4f46e5, #6366f1);
+    }
+
+    .toggle input:checked + .toggle-track::after {
+      transform: translateX(14px);
+    }
+
+    .toggle-label {
+      font-weight: 500;
+      color: var(--text);
+    }
+
     .pill-dot {
       width: 7px;
       height: 7px;
       border-radius: 999px;
       background: var(--success);
       box-shadow: 0 0 8px rgba(34, 197, 94, 0.9);
     }
 
     .top-actions {
       display: flex;
       flex-direction: column;
-      align-items: flex-end;
-      gap: 8px;
+      align-items: stretch;
+      gap: 12px;
+      min-width: 300px;
     }
 
     .primary-btn {
       border-radius: var(--radius-pill);
       border: none;
       padding: 7px 16px;
       font-size: 0.8rem;
       font-weight: 500;
       background: linear-gradient(135deg, #4f46e5, #6366f1);
       color: white;
       display: inline-flex;
       align-items: center;
       gap: 6px;
       cursor: pointer;
       box-shadow: 0 12px 35px rgba(79, 70, 229, 0.6);
       transition: transform 0.08s ease, box-shadow 0.08s ease, opacity 0.08s ease;
     }
 
     .primary-btn:hover {
       transform: translateY(-1px);
       box-shadow: 0 15px 38px rgba(79, 70, 229, 0.75);
       opacity: 0.98;
     }
 
     .primary-btn:active {
@@ -155,89 +258,94 @@
       gap: 6px;
       cursor: pointer;
       transition: background 0.12s ease, color 0.12s ease, border-color 0.12s ease,
         transform 0.08s ease;
     }
 
     .btn-ghost:hover {
       background: rgba(15, 23, 42, 1);
       border-color: rgba(148, 163, 184, 0.9);
       transform: translateY(-0.5px);
       color: var(--text);
     }
 
     .btn-ghost:active {
       transform: translateY(0);
     }
 
     .status-line {
       font-size: 0.7rem;
       color: var(--muted);
       display: flex;
       align-items: center;
       gap: 6px;
     }
 
+    .status-line strong {
+      color: var(--text);
+      font-weight: 600;
+    }
+
     .status-dot {
       width: 7px;
       height: 7px;
       border-radius: 999px;
       background: #22c55e;
     }
 
     .status-dot.offline {
       background: #64748b;
     }
 
     .currency-select {
       border-radius: var(--radius-pill);
       border: 1px solid rgba(148, 163, 184, 0.6);
       background: rgba(15, 23, 42, 0.95);
       color: var(--muted);
       padding: 3px 8px;
       font-size: 0.75rem;
       outline: none;
     }
 
     .currency-select:focus {
       border-color: rgba(129, 140, 248, 0.9);
     }
 
     /* Month selector */
     .month-row {
       display: flex;
       align-items: center;
       gap: 12px;
       margin-bottom: 16px;
       flex-wrap: wrap;
     }
 
     .month-control {
       display: inline-flex;
       align-items: center;
       gap: 6px;
-      background: radial-gradient(circle at top left, #020617, #020617 60%, #020617);
+      background: rgba(2, 6, 23, 0.7);
       padding: 6px 10px 6px 12px;
       border-radius: 999px;
       border: 1px solid rgba(148, 163, 184, 0.35);
       box-shadow: 0 16px 30px rgba(15, 23, 42, 0.7);
     }
 
     .month-label {
       font-size: 0.8rem;
       color: var(--muted);
       margin-right: 6px;
     }
 
     .month-display {
       font-size: 0.86rem;
       font-weight: 500;
       padding: 1px 8px;
       border-radius: 999px;
       background: rgba(15, 23, 42, 0.85);
       border: 1px solid rgba(148, 163, 184, 0.4);
       min-width: 120px;
       text-align: center;
     }
 
     .month-nav-btn {
       border-radius: 999px;
@@ -252,105 +360,105 @@
       font-size: 0.75rem;
       cursor: pointer;
       transition: background 0.1s ease, color 0.1s ease, transform 0.08s ease;
       border: 1px solid rgba(148, 163, 184, 0.4);
     }
 
     .month-nav-btn:hover {
       background: rgba(30, 64, 175, 0.85);
       color: white;
       transform: translateY(-0.5px);
     }
 
     .month-nav-btn:active {
       transform: translateY(0);
     }
 
     /* Layout grid */
     .grid-main {
       display: grid;
       grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
       gap: 18px;
       align-items: flex-start;
     }
 
     .card {
-      background: radial-gradient(circle at top left, #020617, #020617 60%, #020617);
+      background: var(--card);
       border-radius: var(--radius-xl);
       border: 1px solid rgba(148, 163, 184, 0.2);
       padding: 14px 16px 16px;
       box-shadow: 0 18px 40px rgba(15, 23, 42, 0.85);
     }
 
     .card-header {
       display: flex;
       justify-content: space-between;
       align-items: center;
       margin-bottom: 10px;
       gap: 8px;
     }
 
     .card-header h2 {
       margin: 0;
       font-size: 0.9rem;
       letter-spacing: 0.06em;
       text-transform: uppercase;
       color: var(--muted);
     }
 
     .card-sub {
       font-size: 0.7rem;
       color: var(--muted);
     }
 
     /* Overview cards */
     .overview-grid {
       display: grid;
       grid-template-columns: repeat(2, minmax(0, 1fr));
       gap: 10px;
       margin-bottom: 8px;
     }
 
     .overview-card {
       border-radius: 16px;
       padding: 10px 12px 11px;
       position: relative;
       overflow: hidden;
       border: 1px solid rgba(148, 163, 184, 0.18);
-      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.16), #020617 55%);
+      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.16), rgba(2, 6, 23, 0.9) 55%);
     }
 
     .overview-card.expenses {
-      background: radial-gradient(circle at top left, rgba(248, 113, 113, 0.18), #020617 55%);
+      background: radial-gradient(circle at top left, rgba(248, 113, 113, 0.18), rgba(2, 6, 23, 0.9) 55%);
     }
 
     .overview-card.savings {
-      background: radial-gradient(circle at top left, rgba(52, 211, 153, 0.18), #020617 55%);
+      background: radial-gradient(circle at top left, rgba(52, 211, 153, 0.18), rgba(2, 6, 23, 0.9) 55%);
     }
 
     .overview-card.net {
-      background: radial-gradient(circle at bottom right, rgba(129, 140, 248, 0.2), #020617 50%);
+      background: radial-gradient(circle at bottom right, rgba(129, 140, 248, 0.2), rgba(2, 6, 23, 0.9) 50%);
     }
 
     .overview-label {
       font-size: 0.75rem;
       color: var(--muted);
       margin-bottom: 4px;
       display: flex;
       justify-content: space-between;
       align-items: center;
     }
 
     .overview-value {
       font-size: 1.1rem;
       font-weight: 600;
     }
 
     .chip {
       padding: 2px 8px;
       border-radius: 999px;
       font-size: 0.68rem;
       border: 1px solid rgba(148, 163, 184, 0.65);
       color: var(--muted);
       background: rgba(15, 23, 42, 0.9);
     }
 
@@ -381,51 +489,51 @@
       font-size: 0.76rem;
       padding: 5px 10px;
       outline: none;
       width: 120px;
     }
 
     .budget-status {
       font-size: 0.72rem;
       color: var(--muted);
     }
 
     /* Entry form */
     .entry-form {
       display: grid;
       grid-template-columns: 0.9fr 0.8fr 0.8fr 1fr 0.8fr;
       gap: 8px;
       margin-bottom: 8px;
       align-items: center;
     }
 
     .entry-form input,
     .entry-form select {
       width: 100%;
       border-radius: 999px;
       border: 1px solid rgba(148, 163, 184, 0.45);
-      background: rgba(15, 23, 42, 0.9);
+      background: rgba(2, 6, 23, 0.9);
       color: var(--text);
       font-size: 0.78rem;
       padding: 6px 11px;
       outline: none;
       transition: border-color 0.12s ease, box-shadow 0.12s ease,
         background 0.12s ease, transform 0.08s ease;
     }
 
     .entry-form input::placeholder {
       color: rgba(148, 163, 184, 0.85);
     }
 
     .entry-form input:focus,
     .entry-form select:focus {
       border-color: rgba(129, 140, 248, 0.9);
       box-shadow: 0 0 0 1px rgba(129, 140, 248, 0.7);
       background: rgba(15, 23, 42, 1);
       transform: translateY(-0.5px);
     }
 
     .btn-add {
       grid-column: 1 / -1;
       justify-self: flex-start;
       margin-top: 2px;
     }
@@ -476,55 +584,55 @@
       padding: 1px 7px;
       border-radius: 999px;
       border: 1px solid rgba(148, 163, 184, 0.6);
       font-size: 0.68rem;
     }
 
     /* Entries list */
     .entries-table {
       width: 100%;
       border-collapse: collapse;
       font-size: 0.78rem;
     }
 
     .entries-table thead {
       color: var(--muted);
       font-size: 0.72rem;
     }
 
     .entries-table th,
     .entries-table td {
       padding: 6px 4px;
       text-align: left;
     }
 
     .entries-table tbody tr:nth-child(odd) {
-      background: rgba(15, 23, 42, 0.9);
+      background: rgba(2, 6, 23, 0.75);
     }
 
     .entries-table tbody tr:nth-child(even) {
-      background: rgba(15, 23, 42, 0.88);
+      background: rgba(15, 23, 42, 0.75);
     }
 
     .entries-table tbody tr td:first-child,
     .entries-table thead tr th:first-child {
       padding-left: 10px;
     }
 
     .entries-table tbody tr td:last-child,
     .entries-table thead tr th:last-child {
       padding-right: 10px;
     }
 
     .type-pill {
       padding: 1px 8px;
       border-radius: 999px;
       font-size: 0.68rem;
       display: inline-flex;
       align-items: center;
       gap: 4px;
     }
 
     .type-pill.expense {
       background: rgba(248, 113, 113, 0.1);
       color: #fecaca;
     }
@@ -559,131 +667,136 @@
       width: 20px;
       height: 20px;
       display: inline-flex;
       align-items: center;
       justify-content: center;
       font-size: 0.74rem;
       cursor: pointer;
       transition: background 0.1s ease, color 0.1s ease, border-color 0.1s ease,
         transform 0.08s ease;
     }
 
     .btn-icon:hover {
       background: rgba(30, 64, 175, 0.9);
       color: white;
       border-color: rgba(129, 140, 248, 0.9);
       transform: translateY(-0.5px);
     }
 
     .empty-state {
       font-size: 0.74rem;
       color: var(--muted);
       text-align: center;
       padding: 26px 12px 24px;
       border-radius: 16px;
       border: 1px dashed rgba(148, 163, 184, 0.4);
-      background: rgba(15, 23, 42, 0.75);
+      background: rgba(2, 6, 23, 0.75);
     }
 
     .empty-state strong {
       color: var(--text);
     }
 
     /* Footer actions */
     .footer-row {
       display: flex;
       justify-content: space-between;
       align-items: center;
       margin-top: 14px;
       gap: 10px;
       flex-wrap: wrap;
     }
 
     .btn-outline {
       border-radius: 999px;
       border: 1px solid rgba(148, 163, 184, 0.65);
       background: rgba(15, 23, 42, 0.9);
       color: var(--muted);
       padding: 5px 11px;
       font-size: 0.75rem;
       display: inline-flex;
       align-items: center;
       gap: 6px;
       cursor: pointer;
       transition: background 0.1s ease, color 0.1s ease, border-color 0.1s ease,
         transform 0.08s ease;
     }
 
     .btn-outline:hover {
       background: rgba(15, 23, 42, 1);
       color: var(--text);
       transform: translateY(-0.5px);
     }
 
     .sync-info {
       font-size: 0.7rem;
       color: var(--muted);
       display: flex;
       align-items: center;
       gap: 6px;
     }
 
+    .sync-meta-text {
+      color: var(--text);
+      font-weight: 600;
+    }
+
     .sync-badge {
       padding: 1px 7px;
       border-radius: 999px;
       border: 1px solid rgba(148, 163, 184, 0.65);
       font-size: 0.68rem;
     }
 
     .sync-indicator {
       width: 7px;
       height: 7px;
       border-radius: 999px;
       background: #22c55e;
     }
 
     .sync-indicator.offline {
       background: #f97373;
     }
 
     /* Insights */
     .insights-card {
       margin-top: 16px;
     }
 
     .insights-grid {
       display: grid;
       grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
       gap: 14px;
       margin-top: 4px;
     }
 
     .insights-panel {
       border-radius: 16px;
       padding: 10px 10px 12px;
       border: 1px solid rgba(148, 163, 184, 0.25);
-      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.95), #020617);
+      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.95), rgba(2, 6, 23, 0.95));
       min-height: 150px;
     }
 
     .insights-header-row {
       display: flex;
       justify-content: space-between;
       align-items: center;
       margin-bottom: 6px;
       gap: 8px;
       font-size: 0.78rem;
       color: var(--muted);
     }
 
     .insights-label {
       font-size: 0.78rem;
       font-weight: 500;
       color: var(--muted);
     }
 
     .insights-select {
       border-radius: var(--radius-pill);
       border: 1px solid rgba(148, 163, 184, 0.6);
       background: rgba(15, 23, 42, 0.95);
       color: var(--muted);
       padding: 3px 8px;
@@ -774,106 +887,126 @@
       .primary-btn,
       .btn-ghost,
       .btn-outline,
       .btn-icon,
       #toast {
         display: none !important;
       }
     }
 
     @media (max-width: 800px) {
       body {
         padding: 18px 10px 28px;
       }
 
       .app-shell {
         border-radius: 20px;
         padding: 18px 16px 22px;
       }
 
       header {
         flex-direction: column;
         align-items: flex-start;
       }
 
       .top-actions {
-        align-items: flex-start;
+        align-items: stretch;
+        width: 100%;
       }
 
       .grid-main {
         grid-template-columns: minmax(0, 1fr);
       }
 
       .entry-form {
         grid-template-columns: repeat(2, minmax(0, 1fr));
         grid-auto-rows: auto;
       }
 
       .btn-add {
         justify-self: stretch;
       }
 
       .insights-grid {
         grid-template-columns: minmax(0, 1fr);
       }
     }
 
     @media (max-width: 480px) {
       .entry-form {
         grid-template-columns: minmax(0, 1fr);
       }
     }
   </style>
 </head>
 <body>
   <div class="app-shell">
     <header>
       <div class="title-block">
         <h1>Monthly Expense Tracker</h1>
         <p>
-          Track income, expenses &amp; savings with local autosave and optional
-          Google Drive backup.
+          Track income, expenses &amp; savings with local autosave plus Google Drive
+          autosync for every entry.
         </p>
       </div>
       <div class="top-actions">
-        <div id="driveStatusPill" class="pill">
-          <span class="pill-dot" id="pillDot"></span>
-          <span id="driveStatusText">Data stays on this device until you connect Google Drive</span>
-        </div>
+        <div class="sync-panel">
+          <div class="sync-panel-top">
+            <div id="driveStatusPill" class="pill">
+              <span class="pill-dot" id="pillDot"></span>
+              <span id="driveStatusText">Data stays on this device until you connect Google Drive</span>
+            </div>
+            <div class="autosync-toggle">
+              <label class="toggle">
+                <input type="checkbox" id="autoSyncToggle" checked />
+                <span class="toggle-track"></span>
+              </label>
+              <span class="toggle-label">Autosync every entry</span>
+            </div>
+          </div>
 
-        <button id="googleSignInBtn" class="primary-btn" type="button">
-          <span id="googleSignInLabel">Loading Google…</span>
-        </button>
+          <div class="sync-actions">
+            <button id="googleSignInBtn" class="primary-btn" type="button">
+              <span id="googleSignInLabel">Loading Google…</span>
+            </button>
 
-        <button id="syncNowBtn" class="btn-ghost" type="button" disabled>
-          <span>Sync now</span>
-          <span style="font-size: 0.8em;">⟳</span>
-        </button>
+            <button id="syncNowBtn" class="btn-ghost" type="button" disabled>
+              <span>Sync now</span>
+              <span style="font-size: 0.8em;">⟳</span>
+            </button>
+          </div>
 
-        <div class="status-line">
-          <span class="status-dot offline" id="localStatusDot"></span>
-          <span id="statusText">Local only · Google sign-in loading…</span>
+          <div class="sync-meta-row">
+            <div class="status-line">
+              <span class="status-dot offline" id="localStatusDot"></span>
+              <span id="statusText">Local only · Google sign-in loading…</span>
+            </div>
+            <div class="status-line">
+              <span>Last sync:</span>
+              <strong id="lastSyncLabel">Never</strong>
+            </div>
+          </div>
         </div>
 
         <div class="status-line">
           <span>Currency:</span>
           <select id="currencySelect" class="currency-select">
             <option value="$">USD ($)</option>
             <option value="€">EUR (€)</option>
             <option value="£">GBP (£)</option>
             <option value="KSh">KES (KSh)</option>
             <option value="R">ZAR (R)</option>
           </select>
         </div>
       </div>
     </header>
 
     <!-- Month selector -->
     <div class="month-row">
       <div class="month-control">
         <span class="month-label">Month</span>
         <span id="monthDisplay" class="month-display">—</span>
         <button class="month-nav-btn" id="prevMonthBtn" type="button">←</button>
         <button class="month-nav-btn" id="nextMonthBtn" type="button">→</button>
       </div>
     </div>
 
@@ -962,51 +1095,51 @@
 
           <!-- Custom category with suggestions -->
           <input
             id="categoryInput"
             type="text"
             list="categoryList"
             placeholder="Category (e.g. Food, Rent, Investment)"
           />
           <datalist id="categoryList"></datalist>
 
           <input
             id="descriptionInput"
             type="text"
             placeholder="e.g. Groceries / Salary / Savings goal"
           />
 
           <input id="amountInput" type="number" step="0.01" placeholder="0.00" />
 
           <button class="btn-sm btn-add" id="addEntryBtn" type="button">
             + Add entry
           </button>
         </div>
 
         <div class="helper-text">
           <span class="helper-dot"></span>
-          <span>Local autosave is always on. When you connect Google Drive, your data is backed up to a private file.</span>
+          <span>Local autosave is always on. Connect Google Drive to autosync every entry to a private backup file.</span>
           <span class="badge">Private • only you</span>
         </div>
       </section>
 
       <!-- Right: entries list & backup -->
       <section class="card">
         <div class="card-header">
           <h2>Month entries</h2>
           <span class="card-sub">Every transaction for this month</span>
         </div>
 
         <div id="entriesContainer">
           <table class="entries-table" id="entriesTable">
             <thead>
               <tr>
                 <th>Date</th>
                 <th>Type</th>
                 <th>Category</th>
                 <th>Description</th>
                 <th style="text-align: right;">Amount</th>
                 <th></th>
               </tr>
             </thead>
             <tbody id="entriesBody"></tbody>
           </table>
@@ -1023,50 +1156,51 @@
         </div>
 
         <div class="footer-row">
           <div>
             <button id="exportBtn" class="btn-outline" type="button">
               <span>Export backup</span>
             </button>
             <button id="importBtn" class="btn-outline" type="button">
               <span>Import backup</span>
               <input
                 id="importFileInput"
                 type="file"
                 accept="application/json"
                 style="display: none;"
               />
             </button>
             <button id="pdfBtn" class="btn-outline" type="button">
               <span>Export to PDF</span>
             </button>
           </div>
 
           <div class="sync-info">
             <span id="syncIndicator" class="sync-indicator offline"></span>
             <span>Sync</span>
             <span id="syncStatusLabel" class="sync-badge">Local only</span>
+            <span id="syncMetaText" class="sync-meta-text">Autosync off</span>
           </div>
         </div>
       </section>
     </div>
 
     <!-- Insights -->
     <section class="card insights-card">
       <div class="card-header">
         <h2>Insights</h2>
         <span class="card-sub">Spending &amp; income by year, month &amp; category</span>
       </div>
       <div class="insights-grid">
         <!-- Year overview -->
         <div class="insights-panel">
           <div class="insights-header-row">
             <span class="insights-label">Year overview</span>
             <select id="insightsYearSelect" class="insights-select"></select>
           </div>
           <table class="insights-table">
             <thead>
               <tr>
                 <th>Type</th>
                 <th class="amount-cell">Total</th>
               </tr>
             </thead>
@@ -1119,50 +1253,54 @@
   </div>
 
   <div id="toast" class="toast">
     <span id="toastMessage"></span>
   </div>
 
   <script>
     /************************************************************
      * CONFIGURATION
      ************************************************************/
     const GOOGLE_CLIENT_ID =
       "41189729388-rksho3qtsot9qv7h2g4c0s8q81ghub6u.apps.googleusercontent.com";
 
     const GOOGLE_SCOPES = "https://www.googleapis.com/auth/drive.file";
     const LOCAL_STORAGE_KEY = "expense-tracker-data-v1";
     const DRIVE_FILE_NAME = "expense-tracker-data.json";
 
     /************************************************************
      * STATE
      ************************************************************/
     let entries = [];            // all entries, across months
     let recurringRules = [];     // kept for compatibility (not used)
     let budgets = {};            // monthKey -> budget number
     let currencySymbol = "$";    // display symbol
     let currentMonth = null;     // YYYY-MM
+    let autoSyncEnabled = true;
+    let lastSyncAt = null;
+    let autoSyncTimer = null;
+    let pendingAutoSync = false;
 
     let tokenClient = null;
     let accessToken = null;
     let driveFileId = null;
     let isSyncing = false;
     let googleInitAttempts = 0;
 
     // Default category suggestions per type (used to fill the list)
     const defaultCategoryOptions = {
       expense: [
         "Food",
         "Rent",
         "Transport",
         "Shopping",
         "Bills",
         "Debt",
         "Subscriptions",
         "Health",
         "Entertainment"
       ],
       income: [
         "Salary",
         "Side hustle",
         "Bonus",
         "Business",
@@ -1182,86 +1320,103 @@
      ************************************************************/
     function formatCurrency(amount, symbol = currencySymbol) {
       const n = Number(amount) || 0;
       if (symbol && symbol.length > 1) {
         return symbol + " " + n.toFixed(2);
       }
       return (symbol || "$") + n.toFixed(2);
     }
 
     function getMonthKeyFromDate(dateStr) {
       if (!dateStr) return null;
       const d = new Date(dateStr);
       if (Number.isNaN(d.getTime())) return null;
       const year = d.getFullYear();
       const month = String(d.getMonth() + 1).padStart(2, "0");
       return `${year}-${month}`;
     }
 
     function monthKeyToLabel(monthKey) {
       if (!monthKey) return "---";
       const [year, month] = monthKey.split("-");
       const d = new Date(Number(year), Number(month) - 1, 1);
       return d.toLocaleString(undefined, { month: "long", year: "numeric" });
     }
 
+    function formatSyncTime(timestamp) {
+      if (!timestamp) return "Never";
+      const d = new Date(timestamp);
+      if (Number.isNaN(d.getTime())) return "Never";
+      return d.toLocaleString(undefined, {
+        month: "short",
+        day: "numeric",
+        hour: "2-digit",
+        minute: "2-digit",
+      });
+    }
+
     function showToast(message, isError = false) {
       const toast = document.getElementById("toast");
       const msgEl = document.getElementById("toastMessage");
       msgEl.textContent = message;
       toast.classList.remove("bad");
       if (isError) toast.classList.add("bad");
       toast.classList.add("show");
       setTimeout(() => toast.classList.remove("show"), 2600);
     }
 
     function saveToLocal() {
       const payload = {
         entries,
         recurringRules,
         budgets,
         currencySymbol,
+        autoSyncEnabled,
+        lastSyncAt,
         lastUpdated: Date.now(),
       };
       try {
         localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(payload));
       } catch (e) {
         console.error("Failed to save to localStorage", e);
       }
     }
 
     function loadFromLocal() {
       try {
         const raw = localStorage.getItem(LOCAL_STORAGE_KEY);
         if (!raw) return;
         const data = JSON.parse(raw);
         if (Array.isArray(data.entries)) entries = data.entries;
         if (Array.isArray(data.recurringRules))
           recurringRules = data.recurringRules;
         if (data.budgets && typeof data.budgets === "object")
           budgets = data.budgets;
         if (data.currencySymbol) currencySymbol = data.currencySymbol;
+        if (typeof data.autoSyncEnabled === "boolean")
+          autoSyncEnabled = data.autoSyncEnabled;
+        if (typeof data.lastSyncAt === "number") lastSyncAt = data.lastSyncAt;
       } catch (e) {
         console.error("Failed to load from localStorage", e);
       }
     }
 
     function getAllYears() {
       const years = new Set();
       entries.forEach((e) => {
         if (!e.date) return;
         const d = new Date(e.date);
         if (!Number.isNaN(d.getTime())) {
           years.add(d.getFullYear());
         }
       });
       if (!years.size) {
         years.add(new Date().getFullYear());
       }
       return Array.from(years).sort((a, b) => a - b);
     }
 
     /************************************************************
      * RENDERING
      ************************************************************/
     function renderMonthLabel() {
       const labelEl = document.getElementById("monthDisplay");
@@ -1306,50 +1461,51 @@
 
           const catCell = document.createElement("td");
           catCell.textContent = entry.category || "-";
           tr.appendChild(catCell);
 
           const descCell = document.createElement("td");
           descCell.textContent = entry.description || "";
           tr.appendChild(descCell);
 
           const amtCell = document.createElement("td");
           amtCell.className = `amount-cell ${entry.type}`;
           amtCell.style.textAlign = "right";
           amtCell.textContent = formatCurrency(entry.amount);
           tr.appendChild(amtCell);
 
           const actionsCell = document.createElement("td");
           actionsCell.style.textAlign = "right";
           const delBtn = document.createElement("button");
           delBtn.type = "button";
           delBtn.className = "btn-icon";
           delBtn.textContent = "×";
           delBtn.title = "Delete entry";
           delBtn.addEventListener("click", () => {
             entries = entries.filter((e) => e.id !== entry.id);
             saveToLocal();
+            scheduleAutoSync("entry-deleted");
             renderAll();
           });
           actionsCell.appendChild(delBtn);
           tr.appendChild(actionsCell);
 
           tbody.appendChild(tr);
         });
     }
 
     function updateBudgetUI(expenseTotal) {
       const input = document.getElementById("budgetInput");
       const status = document.getElementById("budgetStatus");
       if (!input || !status) return;
 
       const b = budgets[currentMonth];
       if (typeof b === "number" && b > 0) {
         input.value = b;
         const used = (expenseTotal / b) * 100;
         let color = "#22c55e";
         if (used >= 80 && used <= 100) color = "#facc15";
         if (used > 100) color = "#f97373";
         status.style.color = color;
         status.textContent = `${used.toFixed(
           0
         )}% of ${formatCurrency(b)} used`;
@@ -1407,82 +1563,105 @@
 
       const netBadge = document.getElementById("netBadge");
       if (net > 0.01) {
         netBadge.textContent = "Positive";
         netBadge.style.borderColor = "rgba(34,197,94,0.9)";
         netBadge.style.color = "#bbf7d0";
       } else if (net < -0.01) {
         netBadge.textContent = "Negative";
         netBadge.style.borderColor = "rgba(248,113,113,0.9)";
         netBadge.style.color = "#fecaca";
       } else {
         netBadge.textContent = "Neutral";
         netBadge.style.borderColor = "rgba(148,163,184,0.7)";
         netBadge.style.color = "var(--muted)";
       }
 
       updateBudgetUI(expenseTotal);
     }
 
     function renderSyncState() {
       const indicator = document.getElementById("syncIndicator");
       const label = document.getElementById("syncStatusLabel");
       const driveStatusText = document.getElementById("driveStatusText");
       const pillDot = document.getElementById("pillDot");
       const statusText = document.getElementById("statusText");
+      const localDot = document.getElementById("localStatusDot");
       const syncBtn = document.getElementById("syncNowBtn");
       const signInBtn = document.getElementById("googleSignInBtn");
       const signInLabel = document.getElementById("googleSignInLabel");
+      const autoSyncToggle = document.getElementById("autoSyncToggle");
+      const lastSyncLabel = document.getElementById("lastSyncLabel");
+      const syncMetaText = document.getElementById("syncMetaText");
+
+      if (autoSyncToggle) {
+        autoSyncToggle.checked = autoSyncEnabled;
+      }
+      if (lastSyncLabel) {
+        lastSyncLabel.textContent = formatSyncTime(lastSyncAt);
+      }
+      if (syncMetaText) {
+        syncMetaText.textContent = autoSyncEnabled ? "Autosync on" : "Autosync off";
+      }
 
       if (!accessToken) {
         indicator.classList.add("offline");
         label.textContent = "Local only";
         driveStatusText.textContent =
           "Data stays on this device until you connect Google Drive";
         pillDot.style.background = "#22c55e";
+        if (localDot) {
+          localDot.classList.add("offline");
+        }
         syncBtn.disabled = true;
         syncBtn.textContent = "Sync now";
 
         if (!tokenClient) {
           statusText.textContent = "Local only · Google sign-in loading…";
           signInBtn.disabled = true;
           signInLabel.textContent = "Loading Google…";
         } else {
           statusText.textContent = "Local only · not connected to Google Drive";
           signInBtn.disabled = false;
           signInLabel.textContent = "Sign in with Google";
         }
         return;
       }
 
       // Connected
       indicator.classList.remove("offline");
       label.textContent = "Connected · Google Drive";
-      driveStatusText.textContent =
-        "Connected to Google Drive · your data is backed up to a private file";
+      driveStatusText.textContent = autoSyncEnabled
+        ? "Connected to Google Drive · autosyncing to a private file"
+        : "Connected to Google Drive · autosync paused (manual sync only)";
       pillDot.style.background = "#22c55e";
-      statusText.textContent = "Connected · syncing is available";
+      if (localDot) {
+        localDot.classList.remove("offline");
+      }
+      statusText.textContent = autoSyncEnabled
+        ? "Connected · autosyncing entries"
+        : "Connected · autosync paused";
       syncBtn.disabled = isSyncing;
       syncBtn.textContent = isSyncing ? "Syncing..." : "Sync now";
       signInBtn.disabled = false;
       signInLabel.textContent = "Sign in with Google";
     }
 
     function renderInsights() {
       const yearSelect = document.getElementById("insightsYearSelect");
       const typeSelect = document.getElementById("insightsTypeSelect");
       const monthLabel = document.getElementById("insightsMonthLabel");
       const catBody = document.getElementById("insightsCategoryBody");
       const catEmpty = document.getElementById("insightsCategoryEmpty");
       if (!yearSelect || !typeSelect) return;
 
       // Populate year options based on entries
       const years = getAllYears();
       const previousValue = yearSelect.value;
       yearSelect.innerHTML = "";
       years.forEach((y) => {
         const opt = document.createElement("option");
         opt.value = String(y);
         opt.textContent = y;
         yearSelect.appendChild(opt);
       });
       if (years.includes(Number(previousValue))) {
@@ -1667,337 +1846,398 @@
           params: {
             q: `name = '${DRIVE_FILE_NAME}' and trashed = false`,
             spaces: "drive",
             fields: "files(id, name)",
           },
         });
 
         const files = searchResponse.result.files || [];
         if (files.length > 0) {
           driveFileId = files[0].id;
           // 2. download contents
           const fileContentResp = await gapi.client.request({
             path: `https://www.googleapis.com/drive/v3/files/${driveFileId}`,
             params: { alt: "media" },
           });
 
           const data = fileContentResp.body
             ? JSON.parse(fileContentResp.body)
             : fileContentResp.result || {};
           if (Array.isArray(data.entries)) entries = data.entries;
           if (Array.isArray(data.recurringRules))
             recurringRules = data.recurringRules;
           if (data.budgets && typeof data.budgets === "object")
             budgets = data.budgets;
           if (data.currencySymbol) currencySymbol = data.currencySymbol;
+          if (typeof data.autoSyncEnabled === "boolean")
+            autoSyncEnabled = data.autoSyncEnabled;
+          if (typeof data.lastSyncAt === "number") lastSyncAt = data.lastSyncAt;
           saveToLocal(); // keep local in sync
         } else {
           // create new file with current local data
           await createOrUpdateDriveFile(true);
         }
+        lastSyncAt = Date.now();
+        saveToLocal();
         renderAll();
         showToast("Synced from Google Drive");
       } catch (e) {
         console.error("Error loading from Drive", e);
         showToast("Could not load data from Drive", true);
       }
     }
 
     async function createOrUpdateDriveFile(isNew = false) {
       const boundary = "----WebKitFormBoundary" + Math.random().toString(16);
       const delimiter = "\r\n--" + boundary + "\r\n";
       const closeDelimiter = "\r\n--" + boundary + "--";
 
       const metadata = {
         name: DRIVE_FILE_NAME,
         mimeType: "application/json",
       };
 
       const payload = JSON.stringify(
         {
           entries,
           recurringRules,
           budgets,
           currencySymbol,
+          autoSyncEnabled,
+          lastSyncAt,
           lastUpdated: Date.now(),
         },
         null,
         2
       );
 
       const multipartRequestBody =
         delimiter +
         "Content-Type: application/json; charset=UTF-8\r\n\r\n" +
         JSON.stringify(metadata) +
         delimiter +
         "Content-Type: application/json\r\n\r\n" +
         payload +
         closeDelimiter;
 
       const method = isNew || !driveFileId ? "POST" : "PATCH";
       const path =
         "https://www.googleapis.com/upload/drive/v3/files" +
         (method === "PATCH" ? "/" + driveFileId : "");
       const params = { uploadType: "multipart", fields: "id" };
 
       const response = await gapi.client.request({
         path,
         method,
         params,
         headers: {
           "Content-Type": "multipart/related; boundary=" + boundary,
         },
         body: multipartRequestBody,
       });
 
       driveFileId = response.result.id;
     }
 
-    async function syncToDrive() {
+    function scheduleAutoSync(reason = "auto") {
+      if (!accessToken || !autoSyncEnabled) return;
+      if (autoSyncTimer) clearTimeout(autoSyncTimer);
+      autoSyncTimer = setTimeout(async () => {
+        autoSyncTimer = null;
+        if (isSyncing) {
+          pendingAutoSync = true;
+          return;
+        }
+        await syncToDrive({ silent: true, reason });
+      }, 1200);
+    }
+
+    async function syncToDrive({ silent = false } = {}) {
       if (!accessToken) {
-        showToast("Connect Google Drive first", true);
+        if (!silent) {
+          showToast("Connect Google Drive first", true);
+        }
         return;
       }
 
       if (isSyncing) return;
       isSyncing = true;
       renderSyncState();
 
       try {
         await createOrUpdateDriveFile(false);
-        showToast("Data synced to Google Drive");
+        lastSyncAt = Date.now();
+        saveToLocal();
+        if (!silent) {
+          showToast("Data synced to Google Drive");
+        }
       } catch (e) {
         console.error("Sync failed", e);
-        showToast("Drive sync failed", true);
+        if (!silent) {
+          showToast("Drive sync failed", true);
+        }
       } finally {
         isSyncing = false;
         renderSyncState();
+        if (pendingAutoSync) {
+          pendingAutoSync = false;
+          scheduleAutoSync("pending");
+        }
       }
     }
 
     /************************************************************
      * EVENT HANDLERS
      ************************************************************/
     function addEntry() {
       const dateInput = document.getElementById("dateInput");
       const typeInput = document.getElementById("typeInput");
       const categoryInput = document.getElementById("categoryInput");
       const descriptionInput = document.getElementById("descriptionInput");
       const amountInput = document.getElementById("amountInput");
 
       const date = dateInput.value;
       const type = typeInput.value;
       const category = categoryInput.value.trim() || "General";
       const description = descriptionInput.value.trim();
       const amount = parseFloat(amountInput.value);
 
       if (!date || Number.isNaN(new Date(date).getTime())) {
         showToast("Please select a valid date", true);
         return;
       }
 
       if (!amount || Number.isNaN(amount) || amount <= 0) {
         showToast("Amount must be greater than 0", true);
         return;
       }
 
       const monthKey = getMonthKeyFromDate(date);
       if (!monthKey) {
         showToast("Invalid date", true);
         return;
       }
 
       const entry = {
         id:
           (crypto.randomUUID && crypto.randomUUID()) ||
           String(Date.now()) + Math.random().toString(16).slice(2),
         date,
         type,
         category,
         description,
         amount,
         monthKey,
       };
 
       entries.push(entry);
       saveToLocal();
+      scheduleAutoSync("entry-added");
 
       // set current month to entry's month if different
       currentMonth = monthKey;
       renderAll();
 
       // Clear description and amount, keep date/type/category
       descriptionInput.value = "";
       amountInput.value = "";
     }
 
     function changeMonth(offset) {
       const [yearStr, monthStr] = currentMonth.split("-");
       let year = Number(yearStr);
       let month = Number(monthStr);
 
       month += offset;
       if (month === 0) {
         month = 12;
         year -= 1;
       } else if (month === 13) {
         month = 1;
         year += 1;
       }
 
       currentMonth = `${year}-${String(month).padStart(2, "0")}`;
       renderAll();
     }
 
     function handleExport() {
       const payload = JSON.stringify(
         {
           entries,
           recurringRules,
           budgets,
           currencySymbol,
+          autoSyncEnabled,
+          lastSyncAt,
           exportedAt: new Date().toISOString(),
         },
         null,
         2
       );
       const blob = new Blob([payload], { type: "application/json" });
       const url = URL.createObjectURL(blob);
       const a = document.createElement("a");
       a.href = url;
       a.download = "expense-tracker-backup.json";
       document.body.appendChild(a);
       a.click();
       document.body.removeChild(a);
       URL.revokeObjectURL(url);
       showToast("Backup file exported");
     }
 
     function handleImport(file) {
       if (!file) return;
       const reader = new FileReader();
       reader.onload = (e) => {
         try {
           const data = JSON.parse(e.target.result);
           if (!Array.isArray(data.entries)) {
             throw new Error("Invalid file format");
           }
           entries = data.entries;
           recurringRules = Array.isArray(data.recurringRules)
             ? data.recurringRules
             : [];
           budgets =
             data.budgets && typeof data.budgets === "object"
               ? data.budgets
               : {};
           currencySymbol = data.currencySymbol || "$";
+          if (typeof data.autoSyncEnabled === "boolean") {
+            autoSyncEnabled = data.autoSyncEnabled;
+          }
+          if (typeof data.lastSyncAt === "number") {
+            lastSyncAt = data.lastSyncAt;
+          }
           saveToLocal();
+          scheduleAutoSync("import");
           // update currency selector
           const curSel = document.getElementById("currencySelect");
           if (curSel) curSel.value = currencySymbol;
           renderAll();
           showToast("Backup imported");
         } catch (err) {
           console.error("Import failed", err);
           showToast("Could not import this file", true);
         }
       };
       reader.readAsText(file);
     }
 
     /************************************************************
      * INIT
      ************************************************************/
     function init() {
       // initial state: load from local
       loadFromLocal();
 
       const now = new Date();
       currentMonth = `${now.getFullYear()}-${String(
         now.getMonth() + 1
       ).padStart(2, "0")}`;
 
       // pre-fill date input with today
       const dateInput = document.getElementById("dateInput");
       dateInput.valueAsDate = now;
 
       // set currency selector to saved symbol
       const curSel = document.getElementById("currencySelect");
       if (curSel) {
         curSel.value = currencySymbol;
         curSel.addEventListener("change", () => {
           currencySymbol = curSel.value || "$";
           saveToLocal();
+          scheduleAutoSync("currency-updated");
           renderAll();
         });
       }
 
+      const autoSyncToggle = document.getElementById("autoSyncToggle");
+      if (autoSyncToggle) {
+        autoSyncToggle.checked = autoSyncEnabled;
+        autoSyncToggle.addEventListener("change", () => {
+          autoSyncEnabled = autoSyncToggle.checked;
+          if (!autoSyncEnabled && autoSyncTimer) {
+            clearTimeout(autoSyncTimer);
+            autoSyncTimer = null;
+          }
+          saveToLocal();
+          renderSyncState();
+          if (autoSyncEnabled) {
+            scheduleAutoSync("autosync-enabled");
+          }
+        });
+      }
+
       // events
       document
         .getElementById("addEntryBtn")
         .addEventListener("click", addEntry);
       document
         .getElementById("prevMonthBtn")
         .addEventListener("click", () => changeMonth(-1));
       document
         .getElementById("nextMonthBtn")
         .addEventListener("click", () => changeMonth(1));
       document
         .getElementById("googleSignInBtn")
         .addEventListener("click", handleSignIn);
       document
         .getElementById("syncNowBtn")
-        .addEventListener("click", syncToDrive);
+        .addEventListener("click", () => syncToDrive({ silent: false }));
       document
         .getElementById("exportBtn")
         .addEventListener("click", handleExport);
 
       document.getElementById("pdfBtn").addEventListener("click", () => {
         window.print();
       });
 
       document.getElementById("importBtn").addEventListener("click", () => {
         document.getElementById("importFileInput").click();
       });
 
       document
         .getElementById("importFileInput")
         .addEventListener("change", (e) => {
           const file = e.target.files[0];
           handleImport(file);
           e.target.value = "";
         });
 
       const budgetInput = document.getElementById("budgetInput");
       budgetInput.addEventListener("change", () => {
         const v = parseFloat(budgetInput.value);
         if (!v || Number.isNaN(v) || v <= 0) {
           delete budgets[currentMonth];
         } else {
           budgets[currentMonth] = v;
         }
         saveToLocal();
+        scheduleAutoSync("budget-updated");
         renderAll();
       });
 
       document
         .getElementById("insightsYearSelect")
         .addEventListener("change", renderInsights);
       document
         .getElementById("insightsTypeSelect")
         .addEventListener("change", renderInsights);
 
       // update category suggestions when type changes
       document
         .getElementById("typeInput")
         .addEventListener("change", renderCategoryOptions);
 
       renderAll();
 
       // initialise Google sign-in & Drive client (robust for phone)
       setTimeout(initGoogle, 400);
     }
 
     window.addEventListener("load", init);
   </script>
 </body>
 </html>
